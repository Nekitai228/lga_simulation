# LGA Simulation (Lattice Gas Automata)

## Описание

Данная программа реализует модель клеточного автомата LGA с использованием алгоритма FHP-II для моделирования движения и столкновений частиц на двумерной решётке. В решётке могут присутствовать препятствия, а частицы движутся в восьми направлениях: север, северо-восток, восток, юго-восток, юг, юго-запад, запад и северо-запад.

Программа позволяет запускать симуляцию с заданными параметрами, наблюдать за состоянием решётки в консоли и сохранять конечное состояние в бинарный файл.

---

## Основные возможности

- Инициализация решётки с заданной плотностью частиц и прямоугольным препятствием.
- Реализация периодических граничных условий (тор).
- Распространение частиц по направлениям с учётом препятствий.
- Обработка столкновений частиц по упрощённым правилам модели FHP-II.
- Вывод состояния решётки в консоль с визуализацией частиц и препятствий.
- Сохранение конечного состояния решётки в бинарный файл.
- Расчёт статистик: средней плотности и средней скорости потока частиц.

---

## Требования

- Компилятор C (например, gcc, clang)
- Стандартная библиотека C
- Поддержка функций `malloc`, `free`, `rand`, `time` и файлового ввода-вывода.

---

## Компиляция


### Для Linux / macOS

Используйте GCC или Clang:

bash
gcc -o LGA
LGA.c -lm
```

- Ключ -lm подключает математическую библиотеку.
- Запуск программы после компиляции:

---

## Запуск программы

После компиляции запустите программу:
./LGA


bash
./LGA

---

▌Для Windows (с использованием MinGW)

Если у вас установлен MinGW, откройте командную строку и выполните:

Программа запросит ввод следующих параметров:
gcc -o LGA.exe
LGA.c -lm

- Запуск программы:
LGA.exe

---

▌Для Windows (с использованием Microsoft Visual Studio)

1. Создайте новый проект C Console Application.
2. Добавьте файл LGA.c в проект.
3. В настройках проекта убедитесь, что подключена стандартная библиотека C.
4. Постройте проект и запустите.

---

Если у вас возникают проблемы с компиляцией, убедитесь, что выбранный компилятор поддерживает стандарт C99 или выше.
```

---

Программа запросит ввод следующих параметров:

- Размер решётки N (целое число, максимум 64)
- Начальная плотность частиц p (число от 0.0 до 1.0)
- Количество итераций симуляции (целое число)
- Параметры препятствия: координаты левого верхнего угла x y и размеры w h

Пример ввода:

Введите размер решётки N (<= 64): 20
Введите начальную плотность частиц p (0.0 - 1.0): 0.3
Введите число итераций симуляции: 10
Введите параметры препятствия (x y w h): 5 5 3 3


---

## Формат вывода

- В консоли отображается текущее состояние решётки:
  - X — препятствие
  - . — пустая ячейка без частиц
  - (*) — ячейка с 1-2 частицами
  - (#) — ячейка с 3 и более частицами

- После завершения симуляции выводятся средняя плотность частиц и средняя скорость потока в виде вектора.

---

## Сохранение данных

Конечное состояние решётки сохраняется в бинарный файл Lattice.bin. Каждый элемент файла содержит структуру Cell с информацией о частицах и препятствиях.

---

## Структура кода

- Cell — структура, описывающая состояние клетки (частицы и препятствия).
- lattice — выделение памяти под решётку.
- FreeLattice — освобождение памяти.
- initializeLattice — инициализация решётки.
- printLattice — вывод состояния решётки.
- distribution — распространение частиц.
- collision — обработка столкновений.
- saveLatticeToFile — сохранение решётки в файл.
- calculateStatistics — вычисление средней плотности и скорости.

---

## Примеры

В коде предусмотрены тестовые сценарии с различными параметрами плотности, числа итераций и препятствий. Примеры вывода можно увидеть в комментариях исходного кода.

---

## Лицензия

Этот проект открыт и может использоваться и модифицироваться свободно.

---

## Контакты

Если у вас есть вопросы или предложения, пожалуйста, обращайтесь.

---

Спасибо за использование программы!

